---
layout: post
title: 確率論Tips
---


<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
 tex2jax: {
 inlineMath: [['$','$'],["\\\(","\\\)"]],
 displayMath: [ ['$$','$$'], ["\\\[","\\\]"] ]
 }
 });
</script>

普段確率論の本を読んだり問題を解くときに意識していることをまとめます。
到底全ては書ききれないので、ごくごく一部です。
また、無理にあてはめようとするとかえって遠回りになることが多々あるので、自己責任での閲覧をお願いします。

## 全般

まず定理が意味することを考える。
大雑把な方針だけでも解答や証明を読む前に考えておくと頭に入ってきやすい。
その際、できるだけ単純な設定にして示せないか考えることが助けになる。
以下は具体的にどう単純にして考えるかのリストである。<br>
[可測関数についての定理](#可測関数についての定理)<br>
[可算加法族についての定理](#可算加法族についての定理)<br>
[極限の取り扱い](#極限の取り扱い)<br>

## 可測関数についての定理
任意の$f \in X$に対して性質$P$が成立、という定理を考える。
$X$で考えるのが難しければ、より簡単なモノでもいえるかどうか考えること。
たとえば複素数値なら実数値に、実数値なら非負実数値に、非負実数値なら有界非負実数値に、有界非負実数値なら単関数にして考える。
簡単なところで考えてから、そこに帰着させる方法を考えればよい。
それぞれ帰着させる方法をまとめておく。
$X$の稠密な部分集合に帰着するのも大切な手筋であるが、
それはどちらかというと確率論というより関数解析の話になるので、ここではしない。

### 複素数値から実数値
$f$を複素数値関数とする。
実部と虚部に分けるのが基本的である。
\begin{align}
    f(x) = \Re f(x) + i \Im f(x)
\end{align}
ただしこのやり方では絶対値を取るときに三角不等式の分で損をする。
回転をして実数値にすることも覚えておくと便利である。
\begin{align}
   e^{-i\arg{f(x)}} f(x) =  \lvert f(x) \rvert
\end{align}
この場合は絶対値をとっても損をしない。
例として、複素数値のSchwarzの不等式はこの考え方で証明できる。

### 実数値から非負実数値
$f$を実数値関数とする。
正の部分と負の部分に分けるのが基本的である。
\begin{align}
    f(x) = \max\\{f(x),0\\} + \min\\{f(x),0\\}
\end{align}
大きな関数との差を取ることもある。
$f(x) \leq g(x)$となる$g$があるとき、$g(x)-f(x) \geq 0$となる。
優収束定理はこの考え方(と[極限の取り扱い](#極限の取り扱い))を用いる。
絶対値を取ることもできる。

### 非負実数値から非負有界実数値
ここは次の単関数への帰着と組み合わせることが多い。
$f$を非負実数値可測関数とする。
\begin{align}
    f_n (x) = n \chi_{f\geq n} (x) + f(x) \chi_{f < n} (x)
\end{align}
とすると各自然数$n$に対して$f_n$は有界な関数で、
$f$に下から単調増大して各点収束する。
極限操作しても変わらずに成り立つか注意が必要だが、
積分が絡む性質の場合は単調収束定理や、
本質的に同じことだが次の単関数への帰着とルベーグ積分の定義を組み合わせればよい。

### 非負有界実数値から単関数

このステップが一番「簡単になる度合」が大きい。
$f$を非負有界実数値可測関数とする。$f(x)< M$となる定数$M$をとる。
\begin{align}
f_n (x) = \sum_{k=0}^{2^n -1} \frac{Mk}{2^n} \chi_{\frac{Mk}{2^n} \leq f < \frac{M(k+1)}{2^n}}(x)
\end{align}
とおくと、$f_n$は単関数の有限和で、$f$に下から単調増大して収束する。
単関数へと帰着したあとは台の集合についての性質の議論になる。
[可算加法族についての定理](#可算加法族についての定理)が使えることが多い。


## 可算加法族についての定理
$\mathcal{F}$を可算加法族とする。
任意の$A \in \mathcal{F}$に対して性質$P$が成立、という定理を考える。

### 定石
この形の定理に対しては次のような手筋がある。
1. $\mathcal{F} = \sigma (\mathcal{C})$となるような集合族$\mathcal{C}$をとる。
1. $P$を満たす集合全体を$\mathcal{D}$とおき、$\mathcal{D}$が$\mathcal{C}$を含む可算加法族であることを示す。
1. 生成する可算加法族の最小性から$\mathcal{F} = \sigma (\mathcal{C}) \subset \mathcal{D}$となり、定理が従う。

特に２つ目の証明を念頭において$\mathcal{C}$を上手く取ってくるところが難しい。
可算加法族の定義のほかに、単調族定理やDynkin族定理（$\pi$-$\lambda$定理ともいう）が指針となる。
これらの定理を使うことを念頭に置けば、$\mathcal{D}$が有限加法族なら$\mathcal{C}$は単調族になるように取ればいいし、
$\mathcal{D}$が$\lambda$-systemなら$\mathcal{C}$は$\pi$-systemとなるように取ればよい。

### それ以外
個別的な話になるので深入りはしないが、
位相的な性質（特に稠密性や可算性）、
あるいは測度の内部正則性を利用して定石の形に持ち込むことができないか考えるのがよさそうである。


## 極限の取り扱い
到底一般論を述べられるようなものではないが、
知っておいて損はないだろうこととして、
単調な収束に帰着することや、極限が成り立つ点全体が測度$1$であることに帰着することを紹介する。

### 単調な収束
（ほとんどいたるところの）各点収束$\lim f_n = f$を証明したいとする。
\begin{align}
    \lim f_n = f \,\Longleftrightarrow \, \limsup f_n = f ,\, \liminf f_n = f
\end{align}
のようにして、下から単調増大しての収束$\liminf f_n = f$と、
上から単調減少しての収束$\limsup f_n = f$に分けられる。
これと$f_n$や$f$がより[簡単な場合への帰着](#可測関数についての定理)を
組み合わせると解決する場合が多い。
ルベーグ積分論は、積分の構成からして、非負値関数の下から単調増大しての収束が示しやすいように
なっていることを頭の片隅においておくとよい。


### 測度$1$への帰着
「関数列$f_n$の極限に対する等式や不等式がほとんどいたるところ成立する」という命題に帰着される場合を考える。
素直に関数の不等式をそのまま評価する以外に、次のように集合の評価に帰着する手順を比較的よく用いる。
1. $A_n$を不等式が成立するような点の全体とおく。
1. 部分列を取って成立すればよいのなら$P(\limsup A_n)=1$を示す。部分列を取ってはいけないなら$P(\liminf A_n)=1$を示す。

２つ目の評価の際に場合分けやBorel-Cantelliの補題を使えるのが利点である。
コルモゴロフの第一定理（大数の強法則）はこの方針で示すことができる。確率過程でもこの考え方を用いることがよくある。